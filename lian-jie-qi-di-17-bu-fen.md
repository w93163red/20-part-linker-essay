# 链接器第17部分

## 警告符号

GNU链接器支持一种奇特的ELF扩展，用于在链接时为符号引用发出警告。这最初是使用特殊的符号类型为a.out实现的。对于ELF，我使用特殊的节名实现了它。

如果你创建一个名为.gnu.warning.SYMBOL的节，那么当且仅当链接器看到对SYMBOL的未定义引用时，它就会发出警告。警告是通过看到目标文件中具有正确名称的未定义符号触发的。与未定义符号的警告不同，它不是由看到重定位条目触发的。警告的文本就是.gnu.warning.SYMBOL节的内容。

GNU C库使用这个特性来警告对像gets这样的符号的引用，这些符号虽然由标准要求但通常被认为是不安全的。这是通过在定义gets的同一个目标文件中创建一个名为.gnu.warning.gets的节来完成的。

GNU链接器还支持另一种类型的警告，由名为.gnu.warning（不带符号名）的节触发。如果一个带有该名称的节的目标文件被包含在链接中，链接器将发出警告。同样，警告的文本就是.gnu.warning节的内容。我不知道是否有人实际使用这个特性。

今天的条目很短，明天还会有更多内容。

